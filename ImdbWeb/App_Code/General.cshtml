@using System.Web.Helpers
@using System.Web.Mvc.Ajax

@helper ImageHelper(string format, string id)
{
	string s = id + ".jpg";

	<img src="~/image/@format/@s" />
}

@helper MovieListerHelper(IEnumerable<MovieDAL.Movie> movies, string header)
{
    if (movies.Any())
    {
		<dt>
			<b>@header</b>
		</dt>

		foreach (var item in movies)
		{
			var Ajax = ((System.Web.Mvc.WebViewPage)WebPageContext.Current.Page).Ajax;

			<dd>
				@Ajax.ActionLink(item.Title, "Details", "Movie", new { id = item.MovieId },
				new AjaxOptions { OnBegin = "dimBackground", OnSuccess = "showPopup", UpdateTargetId = "popup"});

			</dd>
			@General.ImageHelper("thumb", item.MovieId)
		}
	}
}

@helper ExternalLink(String externalURL, String text, String target = "_blank")
{
	<a href="@externalURL" target="@target">@text</a>
}
